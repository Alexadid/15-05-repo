# 15-05-repo
15-05-repo

## Лабораторная работа по автоматизированным измерениям
# Цель занятия
# Усвоить принципы автоматизированных цифровых измерений

# Ключевые определения:

* частота дискретизации

* период измерений

* динамический диапазон

* разрядность

* шаг квантования

* аналого-цифровой преобразователь

# Объект исследования

* RC-цепь

# Предмет исследования

* процесс заряда и разряда конденсатора через резистор

# Нужно научиться

* проводить цифровые измерения физических процессов

* планировать эксперимент

* в соответствии с планом эксперимента проектировать структуру автоматизирующего скрипта "на листочке" без кода

* программировать автоматизирующий эксперимент скрипт в соответствии с разработанной структурой

* * лаконично, удобно и понятно оформлять достаточно большой скрипт
* * давать переменным и функциям "говорящие" имена
* * добавлять в скрипт ёмкие и исчерпывающие комментарии
* * сообщать пользователю об этапах проводимого эксперимента

* сохранять показаниям АЦП в оперативной памяти по ходу эксперимента

* рассчитывать продолжительность измерений

* рассчитывать среднюю частоту дискретизации проведённых измерений

* строить график показаний АЦП, собранных в ходе эксперимента

* сохранять собранные показания АЦП на жёсткий диск в виде файла

* сохранять на жёсткий диск в виде файла частоту дискретизации и шаг квантования для последующей обработки данных проведённого эксперимента

# Новые инструменты

* Библиотека для построения графиков: matplotlib.pyplot

* Приведение чисел к строке для сохранения в виде текста: str(object)

* Сохранение данных в текстовый файл: file.write()

# Задача. Эксперимент по исследованию процесса заряда и разряда конденсатора в RC-цепи

Провести автоматизированные цифровые измерения напряжения на выходе RC-цепи во время зарядки и последующей разрядки конденсатора

* создать скрипт 7-1-measure.py

* использовать рекомендации из пункта "Нужно научиться" при написании скрипта

* настроить GPIO на Raspberry Pi

* * для управления светодиодами
* * для управления ЦАП
* * для чтения значения на выходе компаратора
* * для управления напряжением на входе тройка-модуля

* добавить в скрипт функцию, измеряющую напряжение на выходе тройка-модуля

* добавить в скрипт функцию, выводящую двоичное представление числа в область светодиодов

* разместить "исполняемую" часть скрипта в блоке try

* создать пустой список для добавления новых измерений

* сохранить в переменную момент начала измерений

* Провести измерения во время заряда конденсатора

* * подать напряжение 3.3В на вход тройка-модуля
* * измерять напряжение на выходе тройка-модуля и добавлять новые измерения в список
* * перейти к следующей части эксперимента после того, как выходное напряжение RC-цепи достигнет 97% от входного напряжения

* Провести измерения во время разряда конденсатора

* * подать напряжение 0.0В на вход тройка-модуля
* * измерять напряжение на выходе тройка-модуля и добавлять новые измерения в список
* * перейти к следующей части эксперимента после того, как выходное напряжение RC-цепи достигнет 2% от входного напряжения

* сохранить в переменную момент завершения измерений

* определить продолжительность эксперимента

* построить график зависимости показаний АЦП от номера измерения

* сохранить в текстовый файл data.txt показания АЦП, записанные в столбик

* сохранить в текстовый файл settings.txt среднюю частоту дискретизации проведённых измерений и шаг квантования АЦП

* вывести в терминал

* * общую продолжительность эксперимента
* * период одного измерения
* * среднюю частоту дискретизации проведённых измерений
* * шаг квантования АЦП

* подать 0 на все GPIO выходы и сбросить настройки GPIO в блоке finally
